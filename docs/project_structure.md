# Octopus é¡¹ç›®ç»“æ„è¯´æ˜

## ğŸ“ é¡¹ç›®ç›®å½•ç»“æ„

```
octopus/
â”œâ”€â”€ README.md                   # é¡¹ç›®è¯´æ˜æ–‡æ¡£
â”œâ”€â”€ pyproject.toml             # é¡¹ç›®é…ç½®å’Œä¾èµ–ç®¡ç†
â”œâ”€â”€ uv.lock                    # é”å®šçš„ä¾èµ–ç‰ˆæœ¬
â”œâ”€â”€ .env.example               # ç¯å¢ƒå˜é‡æ¨¡æ¿
â”œâ”€â”€ .gitignore                 # Git å¿½ç•¥æ–‡ä»¶
â”œâ”€â”€ .gitmodules                # Git å­æ¨¡å—é…ç½®
â”œâ”€â”€ LICENSE                    # å¼€æºè®¸å¯è¯
â”‚
â”œâ”€â”€ octopus/                   # ğŸ—ï¸ ä¸»è¦æºç ç›®å½•
â”‚   â”œâ”€â”€ __init__.py            # åŒ…åˆå§‹åŒ–æ–‡ä»¶
â”‚   â”œâ”€â”€ main.py                # FastAPI åº”ç”¨å…¥å£ç‚¹
â”‚   â”‚
â”‚   â”œâ”€â”€ config/                # âš™ï¸ é…ç½®ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â””â”€â”€ settings.py        # åº”ç”¨é…ç½®è®¾ç½®
â”‚   â”‚
â”‚   â”œâ”€â”€ api/                   # ğŸŒ API è·¯ç”±å±‚
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â””â”€â”€ v1/                # API ç‰ˆæœ¬ç®¡ç†
â”‚   â”‚       â”œâ”€â”€ __init__.py
â”‚   â”‚       â””â”€â”€ endpoints/     # API ç«¯ç‚¹å®ç°
â”‚   â”‚           â””â”€â”€ __init__.py
â”‚   â”‚
â”‚   â”œâ”€â”€ core/                  # ğŸ”§ æ ¸å¿ƒä¸šåŠ¡é€»è¾‘
â”‚   â”‚   â””â”€â”€ __init__.py
â”‚   â”‚
â”‚   â”œâ”€â”€ agents/                # ğŸ¤– ä»£ç†ç³»ç»Ÿ
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ base_agent.py      # åŸºç¡€ä»£ç†ç±»
â”‚   â”‚   â”œâ”€â”€ agent_manager.py   # ä»£ç†ç®¡ç†å™¨
â”‚   â”‚   â”œâ”€â”€ sub_agents/        # å­ä»£ç†å®ç°
â”‚   â”‚   â”‚   â””â”€â”€ __init__.py
â”‚   â”‚   â””â”€â”€ protocols/         # ä»£ç†åè®®
â”‚   â”‚       â””â”€â”€ __init__.py
â”‚   â”‚
â”‚   â”œâ”€â”€ models/                # ğŸ“Š æ•°æ®æ¨¡å‹
â”‚   â”‚   â””â”€â”€ __init__.py
â”‚   â”‚
â”‚   â”œâ”€â”€ services/              # ğŸ”§ ä¸šåŠ¡æœåŠ¡å±‚
â”‚   â”‚   â””â”€â”€ __init__.py
â”‚   â”‚
â”‚   â””â”€â”€ utils/                 # ğŸ› ï¸ å·¥å…·ç±»
â”‚       â”œâ”€â”€ __init__.py
â”‚       â””â”€â”€ log_base.py        # æ—¥å¿—å·¥å…·
â”‚
â”œâ”€â”€ tests/                     # ğŸ§ª æµ‹è¯•ä»£ç 
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ unit/                  # å•å…ƒæµ‹è¯•
â”‚   â”‚   â””â”€â”€ __init__.py
â”‚   â”œâ”€â”€ integration/           # é›†æˆæµ‹è¯•
â”‚   â”‚   â””â”€â”€ __init__.py
â”‚   â””â”€â”€ fixtures/              # æµ‹è¯•æ•°æ®
â”‚       â””â”€â”€ __init__.py
â”‚
â”œâ”€â”€ scripts/                   # ğŸ“œ è„šæœ¬æ–‡ä»¶
â”‚   â”œâ”€â”€ dev.py                 # å¼€å‘æœåŠ¡å™¨å¯åŠ¨è„šæœ¬
â”‚   â””â”€â”€ hello.py               # ç¤ºä¾‹åº”ç”¨
â”‚
â”œâ”€â”€ docs/                      # ğŸ“š æ–‡æ¡£
â”‚   â””â”€â”€ project_structure.md   # é¡¹ç›®ç»“æ„è¯´æ˜
â”‚
â”œâ”€â”€ external/                  # ğŸ”— å¤–éƒ¨ä¾èµ–
â”‚   â””â”€â”€ anp-open-sdk/          # ANP SDK å­æ¨¡å—
â”‚
â””â”€â”€ logs/                      # ğŸ“ æœ¬åœ°æ—¥å¿—ç›®å½•
    â””â”€â”€ .gitkeep
```

## ğŸ¯ è®¾è®¡ç†å¿µ

### 1. **æ¨¡å—åŒ–è®¾è®¡**
- æ¯ä¸ªåŠŸèƒ½æ¨¡å—ç‹¬ç«‹ç›®å½•
- æ¸…æ™°çš„èŒè´£åˆ†ç¦»
- ä¾¿äºå›¢é˜Ÿåä½œå¼€å‘

### 2. **å¯æ‰©å±•æ€§**
- API ç‰ˆæœ¬åŒ–ç®¡ç† (`api/v1/`)
- æ’ä»¶åŒ–ä»£ç†ç³»ç»Ÿ (`agents/sub_agents/`)
- çµæ´»çš„é…ç½®ç®¡ç†

### 3. **å¼€å‘å‹å¥½**
- å®Œæ•´çš„æµ‹è¯•æ¡†æ¶
- å¼€å‘è„šæœ¬é›†ä¸­ç®¡ç†
- è¯¦ç»†çš„æ—¥å¿—ç³»ç»Ÿ

### 4. **ç”Ÿäº§å°±ç»ª**
- é…ç½®ä¸ä»£ç åˆ†ç¦»
- æ ‡å‡†åŒ–çš„é¡¹ç›®ç»“æ„
- å®¹å™¨åŒ–éƒ¨ç½²æ”¯æŒ

## ğŸš€ å¦‚ä½•ä½¿ç”¨

### å¼€å‘ç¯å¢ƒå¯åŠ¨
```bash
# å¼€å‘æ¨¡å¼ï¼ˆæ”¯æŒçƒ­é‡è½½ï¼‰
cd scripts
uv run python dev.py

# æˆ–è€…ç›´æ¥è¿è¡Œä¸»åº”ç”¨
uv run python -m octopus.main
```

### æ·»åŠ æ–°çš„ä»£ç†
1. åœ¨ `octopus/agents/sub_agents/` åˆ›å»ºæ–°çš„ä»£ç†æ–‡ä»¶
2. ç»§æ‰¿ `BaseAgent` ç±»
3. åœ¨ `AgentManager` ä¸­æ³¨å†Œæ–°ä»£ç†

### æ·»åŠ æ–°çš„ API ç«¯ç‚¹
1. åœ¨ `octopus/api/v1/endpoints/` åˆ›å»ºæ–°çš„è·¯ç”±æ–‡ä»¶
2. åœ¨ `octopus/api/v1/router.py` ä¸­æ³¨å†Œè·¯ç”±

### è¿è¡Œæµ‹è¯•
```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
uv run pytest tests/

# è¿è¡Œç‰¹å®šæµ‹è¯•
uv run pytest tests/unit/
uv run pytest tests/integration/
```

## ğŸ”§ é…ç½®ç®¡ç†

é…ç½®æ–‡ä»¶ä½äº `octopus/config/settings.py`ï¼Œæ”¯æŒï¼š
- ç¯å¢ƒå˜é‡é…ç½®
- `.env` æ–‡ä»¶åŠ è½½
- ç±»å‹å®‰å…¨çš„é…ç½®é¡¹

## ğŸ“ æ—¥å¿—ç³»ç»Ÿ

- æ§åˆ¶å°å½©è‰²è¾“å‡º
- æ–‡ä»¶æ—¥å¿—è®°å½•
- å¯é…ç½®çš„æ—¥å¿—çº§åˆ«
- åŒ…å«æ–‡ä»¶åå’Œè¡Œå·ä¿¡æ¯

## ğŸ¤– ä»£ç†ç³»ç»Ÿ

- `BaseAgent`: æ‰€æœ‰ä»£ç†çš„åŸºç±»
- `AgentManager`: ä»£ç†ç”Ÿå‘½å‘¨æœŸç®¡ç†
- `sub_agents/`: å…·ä½“ä»£ç†å®ç°
- `protocols/`: é€šä¿¡åè®®å®ç°

è¿™ä¸ªç»“æ„ä¸º Octopus é¡¹ç›®æä¾›äº†ä¸€ä¸ªåšå®çš„åŸºç¡€ï¼Œæ”¯æŒå¿«é€Ÿå¼€å‘å’Œé•¿æœŸç»´æŠ¤ã€‚
